<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="title">Cronología</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #d35400;
            padding: 1px;
            text-align: center;
            color: white;
        }
        
        /* Barra de navegación mejorada */
        .navbar {
            background-color: #d35400;
            border-top: 2px solid #b34700;
            position: sticky;
            top: 0;
            z-index: 1000;
            padding: 0 0.1%;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            max-width: 1200px;
        margin: 0 auto;
        border-radius: 30px 30px 30px 30px;
        }
        
        .container {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
            flex-wrap: wrap;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .hamburger {
            font-size: 28px;
            color: white;
            cursor: pointer;
            display: none;
            padding: 10px;
        }
        
        .menu {
            list-style: none;
            display: flex;
            margin: 0;
            padding: 0;
            gap: 5px;
        }
        
        .menu > li > a {
            display: block;
            padding: 10px 15px;
            color: white;
            text-decoration: none;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
            transition: all 0.3s ease;
            font-weight: bold;
            border-radius: 10px 10px 10px 10px;
        }
        
        .menu > li > a:hover {
            background-color: rgba(0, 0, 0, 0.4);
            transform: translateY(-2px);
        }
        
        .menu > li > a img {
            vertical-align: middle;
            height: 24px;
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }
        
        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }
        
        .dropdown:hover .dropdown-content {
            display: block;
        }
        
        main {
            padding: 0;
        }
        
        section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(800px, 1fr));
            gap: 15px;
            background-image: url('430154.jpg');
            background-size: auto;
            padding: 100px 100px 100px 100px;
            border-radius: 0px;
        }
        
        .quest-container {
            font-style: arial;
            font-weight: bold;
            text-shadow: 1px 1px 15px #ffffff;
                         -1px -1px 15px #ffffff;
            background-color: rgba(255, 255, 255, 0.65);
            padding: 30px;
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .quest-container h2 {
            font-weight: bold;
            text-shadow: 1px 1px 15px #ffffff;
                         -1px -1px 15px #ffffff;
            color: #27ae60;
            margin-top: 0;
            border-bottom: 2px solid #d35400;
            padding-bottom: 10px;
        }
        
        .quest {
            margin-bottom: 30px;
            background-color: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 5px;
            border-left: 4px solid #d35400;
        }
        
        .quest a {
            font-weight: bold;
            text-shadow: 1px 1px 15px #ffffff;
                         -1px -1px 15px #ffffff;
            text-decoration: none;
            color: #e00404;
            font-weight: 850;
            margin-top: 10px;
        }
        .quest-header {
            font-weight: bold;
            font-size: 1.2em;
            color: #27ae60;
            margin-bottom: 10px;
        }
        
        .quest-details {
            line-height: 1.6;
        }
        
        .quest-reward {
            font-style: italic;
            text-shadow: 1px 1px 15px #ffffff;
                         -1px -1px 15px #ffffff;
            font-weight: 850;
            color: #e00404;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed #ccc;
        }

        .quest img {
            width: 100%;
            max-height: 600px;
            object-fit: contain;
            border-radius: 3px;
        }
        
        /* Selector de idiomas - Versión limpia */
        .dropdown-language {
            position: relative;
            display: inline-block;
        }

        .dropdown-language > a {
            display: block;
            padding: 15px 20px;
            color: white;
            text-decoration: none;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            transition: all 0.3s ease;
            font-weight: bold;
            cursor: pointer;
        }

        .dropdown-language:hover > a {
            background-color: rgba(0, 0, 0, 0.4);
        }

        .language-dropdown {
            display: none;
            position: absolute;
            background-color: #d35400; /* Color principal del navbar */
            min-width: 60px; /* Ancho compacto */
            box-shadow: 0px 4px 8px rgba(0,0,0,0.2);
            z-index: 1001;
            border-radius: 0 0 10px 10px;
            padding: 0; /* Elimina padding interno */
            margin: 0; /* Elimina márgenes */
            list-style: none; /* Quita bullets */
            left: 0;
            top: 100%;
        }

        .language-dropdown a {
            color: white;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            font-weight: bold;
            transition: background 0.3s;
            text-align: center; /* Texto centrado */
            border: none !important; /* Elimina bordes */
        }

        .language-dropdown a:hover {
            background-color: rgba(0, 0, 0, 0.3);
        }

        .dropdown-language:hover .language-dropdown {
            display: block;
        }
        
        /* Estilos para el botón de modo oscuro */
        .dark-mode-toggle > a {
            display: block;
            padding: 10px 10px;
            color: white;
            text-decoration: none;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            transition: all 0.3s ease;
            font-weight: bold;
            cursor: pointer;
            font-size: 15px;
        }
        
        .dark-mode-toggle:hover > a {
            background-color: rgba(0, 0, 0, 0.4);
        }
        
        /* Estilos para el modo oscuro */
        .dark-mode header {
            background-color: #1a1a1a;
        }
        
        .dark-mode .navbar {
            background-color: #1a1a1a;
            border-top: 2px solid #333;
        }
        
        .dark-mode .menu > li > a {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .dark-mode .menu > li > a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .dark-mode .quest-container {
            background-color: rgba(0, 0, 0, 0.7);
            color: #eee;
        }
        
        .dark-mode .quest-container h2 {
            color: #2ecc71;
        }
        
        .dark-mode .quest {
            background-color: rgba(0, 0, 0, 0.3);
        }
        section {
            background-attachment: fixed;
        }
        
        .dark-mode section {
            background-image: url('430154.jpg');
            background-color: rgba(0, 0, 0, 0.3); /* Ajusta el valor alpha (0.6) */
            background-blend-mode: multiply;
        }

        .dark-mode .quest-container,
        .dark-mode .quest-container h2,
        .dark-mode .quest a,
        .dark-mode .quest-reward,
        .dark-mode .quest-details {
            text-shadow: none !important;
        }
        
        .dark-mode .language-dropdown {
            background-color: #333; /* fondo oscuro */
            box-shadow: 0px 4px 8px rgba(255,255,255,0.1);
        }

        .dark-mode .language-dropdown a {
            color: #fff;
        }

        .dark-mode .language-dropdown a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Sidebar de navegación */
        .sidebar-nav {
            position: fixed;
            right: 20px;
            top: 250px;
            width: 220px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
            padding: 15px;
            max-height: 70vh;
            overflow-y: auto;
            transition: all 0.3s ease;
            z-index: 999;
            backdrop-filter: blur(5px);
        }
        
        .sidebar-nav h3 {
            color: #d35400;
            margin-top: 0;
            border-bottom: 2px solid #d35400;
            padding-bottom: 10px;
            text-align: center;
            font-size: 1.2em;
            margin-bottom: 15px;
        }
        
        .sidebar-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .sidebar-nav li {
            margin-bottom: 8px;
            position: relative;
        }
        
        .sidebar-nav > ul > li > ul {
            margin-left: 15px;
            padding-left: 10px;
            border-left: 2px solid rgba(211, 84, 0, 0.3);
        }
        
        .sidebar-nav a {
            color: #333;
            text-decoration: none;
            display: block;
            padding: 5px 10px;
            border-radius: 5px;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }
        
        .sidebar-nav a:hover {
            background-color: rgba(211, 84, 0, 0.2);
            transform: translateX(5px);
        }
        
        .sidebar-nav a.active {
            background-color: rgba(211, 84, 0, 0.4);
            font-weight: bold;
        }
        
        /* Estilos para el modo oscuro */
        .dark-mode .sidebar-nav {
            background-color: rgba(0, 0, 0, 0.7);
            color: #eee;
        }
        
        .dark-mode .sidebar-nav h3 {
            color: #2ecc71;
            border-bottom: 2px solid #2ecc71;
        }
        
        .dark-mode .sidebar-nav a {
            color: #eee;
        }
        
        .dark-mode .sidebar-nav a:hover {
            background-color: rgba(46, 204, 113, 0.2);
        }
        
        .dark-mode .sidebar-nav a.active {
            background-color: rgba(46, 204, 113, 0.4);
        }
        
        .dark-mode .sidebar-nav > ul > li > ul {
            border-left: 2px solid rgba(46, 204, 113, 0.3);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            header {
                padding: 15px;
                font-size: 18px;
            }
            
            .navbar {
                padding: 0 5%;
            }
            
            .hamburger {
                display: block;
            }
            
            .menu {
                display: none;
                flex-direction: column;
                width: 100%;
                gap: 0;
            }
            
            .menu.show {
                display: flex;
            }
            
            .menu > li {
                width: 100%;
            }
            
            .menu > li > a {
                border-radius: 0;
                border-bottom: 1px solid #b34700;
                background-color: transparent;
            }
            
            .dropdown-content {
                position: static;
                box-shadow: none;
                background-color: rgba(0, 0, 0, 0.1);
            }
            
            section {
                padding: 20px;
                grid-template-columns: 1fr;
            }
            
            .quest-container {
                padding: 15px;
            }
            
            .quest {
                padding: 15px;
            }
            
            .quest img {
                max-height: 300px;
            }
            .dropdown-language {
                width: 100%;
            }
    
            .dropdown-language > a {
                border-radius: 0;
                border-bottom: 1px solid #b34700;
                background-color: transparent;
            }
    
            .language-dropdown {
                width: 100%;
                border-radius: 0;
            }
            
            @media (max-width: 768px) {
            .dark-mode-toggle {
                width: 100%;
            }
    
            .dark-mode-toggle > a {
                border-radius: 0;
                border-bottom: 1px solid #333;
                background-color: transparent;
            }

            /* Responsive - Ocultar sidebar en móviles */
            @media (max-width: 768px) {
                .sidebar-nav {
                    display: none;
                }
            }
            
            /* Scrollbar personalizada para la sidebar */
            .sidebar-nav::-webkit-scrollbar {
                width: 6px;
            }
            
            .sidebar-nav::-webkit-scrollbar-track {
                background: rgba(0, 0, 0, 0.1);
                border-radius: 3px;
            }
            
            .sidebar-nav::-webkit-scrollbar-thumb {
                background: #d35400;
                border-radius: 3px;
            }
            
            .dark-mode .sidebar-nav::-webkit-scrollbar-thumb {
                background: #2ecc71;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Lore del Krosmoz</h1>
        <nav class="navbar">
            <div class="container">
                 <div class="hamburger" id="hamburger">&#9776;</div>
                <ul class="menu" id="menu">
                    <li><a href="testmethodindex.html" data-translate="nav.home">Inicio</a></li>
                    <li><a href="NCDrop.html" data-translate="nav.drop_wakfu">Calc de Drop Wakfu</a></li>
                    <li><a href="testmethodmisiones.html" data-translate="nav.quests">Misiones</a></li>
                    <li><a href="#" data-translate="nav.dungeons">Mazmorras</a></li>
                    <li><a href="#" data-translate="nav.optimization">Optimización</a></li>
                    <li><a href="#" data-translate="nav.crafts">Oficios</a></li>
                    <li><a href="#" data-translate="nav.misc">Varios</a></li>
                    <!-- Nuevo botón de idioma integrado en el menú -->
                    <li class="dropdown-language">
                        <a href="#" id="currentLanguage">ES</a>
                        <ul class="language-dropdown">
                            <li><a href="#" data-lang="es">ES</a></li>
                            <li><a href="#" data-lang="pt">PT</a></li>
                            <li><a href="#" data-lang="en">EN</a></li>
                        </ul>
                    <li class="dark-mode-toggle">
    <a href="#" id="darkModeToggle">🌙</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
    <main>
      <div class="sidebar-nav" id="sidebarNav">
            <h3 data-translate="sidebar.title">Épocas</h3>
            <ul>
                <li><a href="#section-intro" data-translate="sidebar.quest1">La época primitiva</a></li>
                
                <li><a href="#" data-translate="sidebar."></a></li>
            </ul>
        </div>
        <section>
            <div class="quest-container">
                <h1 data-translate="section.intro0">Cronología hecha por Uelman traducción y correcciones por Drarios y Nelson Magno</h1>
                <h2 id="section-intro" data-translate="section.title">LA ÉPOCA PRIMITIVA</h2>
                <img src="kroz.jpg" width="100%">
                <p data-translate="section.intro1">Al principio, solo existía la nada, hasta que un día dos seres se cruzaron: La Gran Diosa de Wakfu, también conocida como la diosa Selatrop, y el Gran Dragón de la Estasis. Los dos seres bailaron y del encuentro nació el Krosmoz, un lado lleno de Wakfu, el fuego de la creación, y el otro de Stasis, el fuego de la destrucción.</p>
                <p data-translate="section.intro2">De estas dos energías, nacieron dos dragones: Prismaradona al lado del Wakfu y Thanatena del lado de la Estasis.</p>
                 <img src="prisma.png" width="100%">
                 <img src="thana.png" width="100%">
                 <p data-translate="section.intro3">Entonces, las Nordes, tres hermanas que tejen el destino de los mortales, se acercaron a Thanatena con un trato.</p>
                 <img src="nordes.png" width="100%">
                 <p data-translate="section.intro4">Le pidieron que creara el Externam, a cambio nunca se separaría del lado de su hermano Prismaradona. Thanatena estuvo de acuerdo, por lo que ella y su hermano organizaron el universo.</p>
                <img src="kroz.png" width="100%">
                <p data-translate="section.intro5">El lado cubierto por el wakfu de la Gran Diosa se convirtió en Incarnam, y las almas encarnarían en la espalda de Prismaradona. Según algunas leyendas, Prismaradona usó su aliento para llenar el Krosmoz con la Brisa Cuadramental, también conocida como la magia elemental fuego, agua, tierra y aire (algunas investigaciones y teorías de los hipermagos o el Mago de Zo dicen que el origen de la Brisa Cuadramental nació miles de años después, con la armonía del Dofus Primordial).</p>
                <img src="incarnam.png" width="100%">
                <p data-translate="section.intro6">El lado cubierto por la estasis del Gran Dragón se convirtió en Externam, y las almas serían conducidas allí a través del río Akeranzu, a una necrópolis llamada el Reino Gris donde gobierna Thanatena, y donde las almas recibirán juicio, ya sea para ser enviadas de regreso a Incarnam en globos aerostáticos y reencarnar, o ser catapultadas fuera del Krosmoz en el Olvido.</p>
                <p data-translate="section.intro7">La necrópolis está rodeada por el destructivo fuego negro del Gran Dragón, pero se mantiene a salvo gracias a las llamas blancas de la creación.</p>
                <img src="Externam.png" width="100%">
                <p data-translate="section.intro8">Por debajo de los planos de Incarnam y de Externam, de los sueños de Prismaradona, nació el Plano astral, donde existirán los sueños de todas las criaturas. El hijo de Prismaradona, Draconiros, se convertirá en el gobernante de este plano.</p>
                <img src="draconiros.png" width="100%">
                <p data-translate="section.intro9">Debajo de él, el Plano etéreo, o simplemente el Éter, un plano interseccional donde Wakfu y Stasis se equilibran.</p>
                <p data-translate="section.intro10">Y finalmente, el Plano material, donde nacerán y morirán las almas mortales.</p>
            </div>
        </section>
    </main>

    <script>
        // ==================== SISTEMA DE TRADUCCIÓN ====================
        

            // ==================== ES version ==================== \\
        const translations = {
        es: {
            "title": "Cronología",
                "nav.drop_wakfu": "Calc Drop Wakfu",
                "nav.home": "Inicio",
                "nav.quests": "Misiones",
                "nav.dungeons": "Mazmorras",
                "nav.optimization": "Optimización",
                "nav.crafts": "Oficios",
                "nav.misc": "Varios",
                "section.intro0": "Cronología hecha por Uelman traducción y correcciones por Drarios y Nelson Magno",
                "section.title": "LA ÉPOCA PRIMITIVA",
                "section.intro1": "Al principio, solo existía la nada, hasta que un día dos seres se cruzaron: La Gran Diosa de Wakfu, también conocida como la diosa Selatrop, y el Gran Dragón de la Estasis. Los dos seres bailaron y del encuentro nació el Krosmoz, un lado lleno de Wakfu, el fuego de la creación, y el otro de Stasis, el fuego de la destrucción.",
                "section.intro2": "De estas dos energías, nacieron dos dragones: Prismaradona al lado del Wakfu y Thanatena del lado de la Estasis.",
                "section.intro3": "Entonces, las Nordes, tres hermanas que tejen el destino de los mortales, se acercaron a Thanatena con un trato.",
                "section.intro4": "Le pidieron que creara el Externam, a cambio nunca se separaría del lado de su hermano Prismaradona. Thanatena estuvo de acuerdo, por lo que ella y su hermano organizaron el universo.",
                "section.intro5": "El lado cubierto por el wakfu de la Gran Diosa se convirtió en Incarnam, y las almas encarnarían en la espalda de Prismaradona. Según algunas leyendas, Prismaradona usó su aliento para llenar el Krosmoz con la Brisa Cuadramental, también conocida como la magia elemental fuego, agua, tierra y aire (algunas investigaciones y teorías de los hipermagos o el Mago de Zo dicen que el origen de la Brisa Cuadramental nació miles de años después, con la armonía del Dofus Primordial).",
                "section.intro6": "El lado cubierto por la estasis del Gran Dragón se convirtió en Externam, y las almas serían conducidas allí a través del río Akeranzu, a una necrópolis llamada el Reino Gris donde gobierna Thanatena, y donde las almas recibirán juicio, ya sea para ser enviadas de regreso a Incarnam en globos aerostáticos y reencarnar, o ser catapultadas fuera del Krosmoz en el Olvido.",
                "section.intro7": "La necrópolis está rodeada por el destructivo fuego negro del Gran Dragón, pero se mantiene a salvo gracias a las llamas blancas de la creación.",
                "section.intro8": "Por debajo de los planos de Incarnam y de Externam, de los sueños de Prismaradona, nació el Plano astral, donde existirán los sueños de todas las criaturas. El hijo de Prismaradona, Draconiros, se convertirá en el gobernante de este plano.",
                "section.intro9": "Debajo de él, el Plano etéreo, o simplemente el Éter, un plano interseccional donde Wakfu y Stasis se equilibran.",
                "section.intro10": "Y finalmente, el Plano material, donde nacerán y morirán las almas mortales."
            },
            
            pt: {
                "title": "Cronologia",
                "nav.drop_wakfu": "Calc Drop Wakfu",
                "nav.home": "Início",
                "nav.quests": "Missões",
                "nav.dungeons": "Masmorras",
                "nav.optimization": "Otimização",
                "nav.crafts": "Profissões",
                "nav.misc": "Vários",
                "section.intro0": "Cronologia elaborada por Uelman, tradução e correções por Drarios e Nelson Magno",
                "section.title": "A ERA PRIMITIVA",
                "section.intro1": "No início, só existia o nada, até que um dia dois seres se encontraram: A Grande Deusa do Wakfu, também conhecida como a deusa Eliatrop, e o Grande Dragão da Estase. Os dois seres dançaram e desse encontro nasceu o Krosmoz: um lado cheio de Wakfu, o fogo da criação, e o outro de Estase, o fogo da destruição.",
                "section.intro2": "Destas duas energias, nasceram dois dragões: Prysmaradoth do lado do Wakfu e Thanatena do lado da Estase.",
                "section.intro3": "Então, as Nordes, três irmãs que tecem o destino dos mortais, aproximaram-se de Thanatena com um acordo.",
                "section.intro4": "Pediram-lhe que criasse o Externam e, em troca, ela nunca se separaria do lado de seu irmão Prismaradona. Thanatena concordou, e assim ela e seu irmão organizaram o universo.",
                "section.intro5": "O lado coberto pelo Wakfu da Grande Deusa tornou-se Incarnam, e as almas encarnariam nas costas de Prismaradona. Segundo algumas lendas, Prismaradona usou seu sopro para preencher o Krosmoz com a Brisa Quadramental, também conhecida como a magia elemental do fogo, água, terra e ar (algumas pesquisas e teorias dos hipermagos ou do Mago de Zo dizem que a origem da Brisa Quadramental surgiu milhares de anos depois, com a harmonia do Dofus Primordial).", 
                "section.intro6": "O lado coberto pela estase do Grande Dragão tornou-se Externam, e as almas seriam conduzidas até lá através do rio Akeranzu, para uma necrópole chamada Reino Cinza, onde reina Thanatena, e onde as almas serão julgadas, seja para serem enviadas de volta a Incarnam em balões aerostáticos e reencarnarem, ou para serem catapultadas para fora do Krosmoz, no Esquecimento.",
                "section.intro7": "A necrópole está cercada pelo fogo negro destrutivo do Grande Dragão, mas permanece segura graças às chamas brancas da criação.",
                "section.intro8": "Abaixo dos planos de Incarnam e Externam, dos sonhos de Prismaradona, nasceu o Plano Astral, onde existirão os sonhos de todas as criaturas. O filho de Prismaradona, Draconiros, se tornará o governante deste plano.",
                "section.intro9": "Abaixo dele, o Plano Etéreo, ou simplesmente o Éter, um plano interseccional onde Wakfu e Stasis se equilibram.",
                "section.intro10": "E, finalmente, o Plano Material, onde as almas mortais nascerão e morrerão.",
                "sidebar.title": "Épocas",
                "sidebar.intro": "A ERA PRIMITIVA"
            },

            en: {
                "title": "Chronology",
                "nav.drop_wakfu": "Wakfu Drop Calc",
                "nav.home": "Home",
                "nav.quests": "Quests",
                "nav.dungeons": "Dungeons",
                "nav.optimization": "Optimization",
                "nav.crafts": "Professions",
                "nav.misc": "Miscellaneous",
                "section.intro0": "Chronology created by Uelman translation and corrections by Drarios and Nelson Magno",
                "section.title": "THE PRIMITIVE ERA",
                "section.intro1": "At first, there was only Oblivion, until one day two beings crossed paths: The Great Goddess of Wakfu, also known as Eliatrope, and the Great Dragon of Stasis. The two beings danced together and from the encounter the Krosmoz was born, one side filled with Wakfu, the fire of creation, and the other with Stasis, the fire of destruction.",
                "section.intro2": "From these two energies, two dragons were born: Prysmaradoth from the Wakfu side and Thanatena from the Stasis side.",
                "section.intro3": "Then, the Norrai, three sisters who weave the fate of mortals, approached Thanatena with a deal.",
                "section.intro4": "They asked her to create Externam, and in exchange she’d never leave her brother Prysmaradoth’s side. Thanatena agreed, and so she and her brother organised the universe.",
                "section.intro5": "The side covered in the Great Goddess’s wakfu became Incarnam, and souls would incarnate on Prysmaradoth’s back. And, according to some legends, Prysmaradoth used his breath to fill the Krosmoz with the Quadramental Breeze, the elements of fire, water, earth and air (other legends claim the Quadramental Breeze was born thousands of years later, with the Primordial Dofus’s harmony).",
                "section.intro6": "The side covered in the Great Dragon’s stasis became Externam, and souls would be lead there via the Akeranzu river, to a necropolis named the Grey Country where Thanatena rules, and where souls will receive judgement, to either be sent back to Incarnam on hot air balloons and reincarnate, or be catapulted out of the Krosmoz, into Oblivion.",
                "section.intro7": "The necropolis is surrounded by the Great Dragon’s destructive black fire, but kept safe by white flames of creation.",
                "section.intro8": "Below the planes of Incarnam and Externam, from Prysmaradoth’s dreams, the Astral Plane was born, where the dreams of all creatures will exist. Prysmaradoth’s son, Draconiros, will become the ruler of this plane.",
                "section.intro9": "Below it, the Ethereal Plane, or simply the Ether, an intersectional plane where Wakfu and Stasis balance.",
                "section.intro10": "And finally, the Material Plane, where mortal souls will be born and die.",
                "sidebar.title": "epochs",
                "sidebar.intro": "THE PRIMITIVE ERA"
            }
        };

        // ==================== FUNCIONALIDAD DE LA SIDEBAR ====================

        // Scroll suave para los enlaces de la sidebar
        document.querySelectorAll('.sidebar-nav a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 20,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Resaltar la sección activa en la sidebar
        function highlightActiveSection() {
            const sections = document.querySelectorAll('.quest-container [id]');
            const sidebarLinks = document.querySelectorAll('.sidebar-nav a');
            let currentActive = null;
            
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top <= 100 && rect.bottom >= 100) {
                    currentActive = '#' + section.id;
                }
            });
            
            sidebarLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === currentActive) {
                    link.classList.add('active');
                }
            });
        }

        // Escuchar el evento de scroll
        window.addEventListener('scroll', highlightActiveSection);
        window.addEventListener('load', highlightActiveSection);
    
        // ==================== SISTEMA DE TRADUCCIÓN ====================
    
        // Sistema de cambio de idioma
            let currentLanguage = localStorage.getItem('selectedLanguage') || 'es';
    
            function translatePage(lang) {
            currentLanguage = lang;
        // Guardar el idioma en localStorage
            localStorage.setItem('selectedLanguage', lang);
        
        // Traducir textos normales
            document.querySelectorAll('[data-translate]').forEach(element => {
            const key = element.getAttribute('data-translate');
            if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });

    // Traducir imágenes
    document.querySelectorAll('[data-translate-src]').forEach(img => {
        const sources = img.getAttribute('data-translate-src').split('|');
        img.src = sources[lang === 'es' ? 0 : lang === 'pt' ? 1 : 2] || sources[0];
    });

    // Traducir enlaces (tanto href como texto)
    document.querySelectorAll('[data-translate-href]').forEach(link => {
        // Manejar href
        const hrefs = link.getAttribute('data-translate-href').split('|');
        let selectedHref = hrefs[1]; // Valor por defecto (URL en español)

        for (let i = 0; i < hrefs.length; i += 2) {
            if (hrefs[i] === lang) {
                selectedHref = hrefs[i + 1];
                break;
            }
        }
        link.href = selectedHref;

        // Manejar texto
        if (link.hasAttribute('data-translate-text')) {
            const texts = link.getAttribute('data-translate-text').split('|');
            let selectedText = texts[1]; // Valor por defecto (texto en español)

            for (let i = 0; i < texts.length; i += 2) {
                if (texts[i] === lang) {
                    selectedText = texts[i + 1];
                    break;
                }
            }
            link.textContent = selectedText;
        }
    });

    // Actualizar botón principal
    document.getElementById('currentLanguage').textContent = lang.toUpperCase();
    document.documentElement.lang = lang;
}

// Menú hamburguesa para móviles
        const hamburger = document.getElementById('hamburger');
        const menu = document.getElementById('menu');

        if (hamburger && menu) {
            hamburger.addEventListener('click', function() {
                menu.classList.toggle('show');
            });
        }

// Selector de idiomas
document.querySelectorAll('.language-dropdown a[data-lang]').forEach(item => {
    item.addEventListener('click', function(e) {
        e.preventDefault();
        translatePage(this.getAttribute('data-lang'));
    });
});

// Modo oscuro
const darkModeToggle = document.getElementById('darkModeToggle');
let darkMode = localStorage.getItem('darkMode') === 'true';

// Aplicar modo oscuro si estaba activado
if (darkMode) {
    document.body.classList.add('dark-mode');
    darkModeToggle.textContent = '☀️';
}

// Manejar el click
darkModeToggle.addEventListener('click', function(e) {
    e.preventDefault();
    darkMode = !darkMode;
    
    if (darkMode) {
        document.body.classList.add('dark-mode');
        this.textContent = '☀️';
    } else {
        document.body.classList.remove('dark-mode');
        this.textContent = '🌙';
    }
    
    localStorage.setItem('darkMode', darkMode);
});

// Inicializar con el idioma guardado o español por defecto
translatePage(currentLanguage);
</script>
</body>
</html>